
>[!tip] Created: [2025-02-22 Sat 13:44]

>[!question] Targets: 

>[!danger] Depends: 

The browser would set what it wants to listen to, which would expire, and then the workers check this based on the messages they are processing, by way of some kind of ID relating to the top level job.

The workers would then write to the db with the chunks, in order, and the browser would connect to an isolate, that does a watch on these chunks, and the watcher ensures they get assembled correctly and sent back down.

It might get costly, since it would be $3.50 per million kb of text chunks, so per GB of streamed text.

So we would only turn it on when it was needed explicitly, and when first turned on, the worker would make the first chunk be a catch up chunk.

The latency might be of concern, but it would still be streaming, and we can smooth out the stream some, like packing in the writes to be more optimal.

So when browser wants to subscribe, it would make a request with the job it wanted, and then receive SSE streams for jobs in flight, as well as commits relating to the job which it could read fully.

Charge the users for this extra watching, since it is expensive.

Means that multiple users can watch the same streaming progress.

If the receiving isolate did the AI calls then the streaming becomes trivial, so this should be the norm.

>[!tip] Created: [2025-08-13 Wed 10:01]

>[!question] Targets: 

>[!danger] Depends: 

we have an mcp server that can do artifact commands in and out.
what is the thinnest slice thru the whole system that we can construct ?

1. using the mcp commands to execute a chat interaction
2. making a ui that presents chats, or at least files for browsing
3. make a napp being run on a remote repo, accessed via url
4. show mcp server loading tools for a napp dynamically
5. get an external napp published and consumed by the mcp host

Probably best to remodel the command architecture before layering on demos of things that will get ripped out.

TODOs:
1. switch tooling to be either in discovery or using mode
2. add more tooling for artifact functionality
3. dynamic resources that are loaded by mcapp
4. make a demonstration of the tool tree in action
5. change the chats napp to be purely tool based
6. expose the chats napp as an mcp server using url params or pathing
7. writing files needs to be turned into tools with flexible options, like text and json
8. mcp commands like loadTools listResource needs to be implemented as a napp and intercepted by the mcp server logic
9. move schemas out of the client package and into the provider, since they don't need to be as separated into browser bundles any more, as mcp feeds them down live
10. scope setting needs to be part of themcp server
11. enveloping needs to remove the notion of a host target - this is technically the mcp server, and the scope is now stateful in the mcp server, and the actions go into each repo, and then call the system during their execution.
12. shards needs to be turned into a tool.
13. structured return types need to be made for the tools
14. expose a deep mcp server to a specific repo
15. add preambles to the tool calls



we could make a system container per repo, where it has db context ? we could fetch this from some system hook ?
or we could fling the actions up the system channel, after adding our own scope onto it, or getting the system channel to determine the scope from the calling context.

load tools could be exclusive, where it unloads all the others ? so you can only have one loadshot at once ? you can load multiple napps, but they have to be loaded in the single load call.

write would be inside the mcp server, and would be exposed using tool calls.
the server would not allow you to switch scopes, unless you had flushed or removed the dirty files, else they would be lost, which almost certainly isn't what you wanted to do.



>[!tip] Created: [2022-12-20 Tue 11:33]

>[!question] Targets: 

>[!danger] Depends: 

## Required
Given two hamts, give back the list of keys that were added, deleted, or had their value changed, in jsonpatch format.

Reason is that we want to get a Pulse, and know immediately what network changes occured without walking the whole network.

## Walking the DAG
If we manually walk the DAG of each tree, we can know instantly what differences there are.  We only need to pursue the differences to know the overall differences.

## Async diffing
Diffing should provide an async iterable that can be aborted during the diffing process.
Adds can be streamed in, but deletes may require going to the block deeper if a reorg has occured.

## Interface
```js
added: [ key1, key2 ],
deleted: [ delKey1, delKey2 ]
changed: [ changed1, changed2, changed3 ]
```
We may stream the results in, using objects with this same shape, but only the diffs since last time a result was returned.
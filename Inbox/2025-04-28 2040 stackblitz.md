
>[!tip] Created: [2025-04-28 Mon 20:40]

>[!question] Targets: 

>[!danger] Depends: 

we can install `@artifact/api` because it only has npm deps.
but packages that have jsr deps seem to bomb.

would be great to publish npm packages based on the jsr tarballs, but with deps rewritten ?

Is this piece needed for anyone to vibe code with our tooling ?

optoins:
1. vendor the jsr deps, including those in the workspace, and publish to jsr
2. copy the node_modules folder with its installed files into the stackblitz project
3. build a library using esbuild or vite
4. see why dnt didn't include the jsr packages

The issue with vendoring is that it vendors the modules in ts as tho they will be run by deno.
We could perhaps download npm packages locally ?

redo the imports so we reduce the named imports thing to remove bookkeeping.
copy context to its own folder, to be a standalone package.
vendor it to pull in all the modules.
remove the vendor option from its deno.json
write the import map to point anything seen in the vendor directory to the mod export of that exact dir
publish

last way:
copy context to a stand alone folder
copy the whole workspace into a subfolder
copy the imports from the workspace root into the context deno.json
delete any jsr references in the workspace root
map all workspace members to their mod.ts files in their folders
publish, now with no jsr deps and no workspace deps via jsr

then publish that tarball to npm.

make this be a workspace member dedicated.
when run, it will copy each workspace folder .ts files and add its own import maps pointing to each folders mod.ts file.
So now when any of the code in this folder runs, it will use the import map to redirect what gets called, removing any jsr deps.
add its own overrides to the source map

actually, think we can just copy the entire workspace into a subfolder, and then rewrite the import map to point to each folder, then run context ?
Then we have shipped the whole source with the package.  Doesn't really add anything tho.

maybe even in the workspace, it can copy everything inside of it, and then do its rewrites ?
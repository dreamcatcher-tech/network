
>[!tip] Created: [2025-05-18 Sun 19:54]

>[!question] Targets: 

>[!danger] Depends: 

at page load, we could supply a json object as a url header, which we could decode, this could serve as the default data ?

then if new messages come in, what would they be ?

messages out would be in the format for the widget manager.
The would include context changing, and some free form data.
so a standard format for scope, and some freeform json for anything else that might be asked for - like state.

So the privy widget would send up typed messages with payloads
1. state
2. context which lists selection order and names primary selection by integer
3. navigateTo
4. artifact

State is a side channel where widgets can be made to communicate with each other. A prime example is when privy needs to pass back the login information that it has. It would send it to the parent using a state transfer. 
But this might not be within scope for the comms system, although I guess it might as well be. 

Widgets that want to pass state down should probably pass things down and query parameters. The internal logic of a parent and a child that need to communicate in this way will need to be tightly coupled, so they might as well just not be part of Artifact. 

send a navigate to message.
or an artifact message.
artifact messages would be provider messages, which would be filtered by the parent.

artifact comms out would be just provider actions.
artifact has some ping methods.
Much of DOS is concerned with presenting the output of shell commands.  This could be genericized if the output from the shell was standardized.

Alternatively there might be a post processor that runs on the shell to turn the commands into something formatted for the CLI, or the UI, 

Ideally the same components that are used to present datum state are used to present shell responses.